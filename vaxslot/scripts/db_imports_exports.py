import json

import requests
from vaxslot import db
from vaxslot.scripts.models import sesh, Center, User
import os
import sys

header = {'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36'}


districtname_to_id = {'North and Middle Andaman': 1, 'South Andaman': 2, 'Nicobar': 3, 'Krishna': 4, 'Guntur': 5, 'YSR District Kadapa (Cuddapah)': 6, 'Kurnool': 7, 'Visakhapatnam': 8, 'Anantapur': 9, 'Chittoor': 10, 'East Godavari': 11, 'Prakasam': 12, 'Sri Potti Sriramulu Nellore': 13, 'Srikakulam': 14, 'Vizianagaram': 15, 'West Godavari': 16, 'Itanagar Capital Complex': 17, 'Lower Siang': 18, 'Pakke Kessang': 19, 'Changlang': 20, 'Kurung Kumey': 21, 'Anjaw': 22, 'East Kameng': 23, 'Kamle': 24, 'Dibang Valley': 25, 'Tirap': 26, 'Kra Daadi': 27, 'West Kameng': 28, 'Lohit': 29, 'Tawang': 30, 'Lower Dibang Valley': 31, 'Lower Subansiri': 32, 'Lepa Rada': 33, 'Upper Siang': 34, 'Shi Yomi': 35, 'Namsai': 36, 'Siang': 37, 'West Siang': 38, 'Papum Pare': 39, 'Longding': 40, 'Upper Subansiri': 41, 'East Siang': 42, 'Dibrugarh': 43, 'Sivasagar': 44, 'Tinsukia': 45, 'Baksa': 46, 'Barpeta': 47, 'Darrang': 48, 'Kamrup Metropolitan': 49, 'Kamrup Rural': 50, 'Karbi-Anglong': 51, 'Nalbari': 52, 'Golaghat': 53, 'Jorhat': 54, 'Morigaon': 55, 'Nagaon': 56, 'Bongaigaon': 57, 'Chirang': 58, 'Dhubri': 59, 'Goalpara': 60, 'Kokrajhar': 61, 'Dhemaji': 62, 'Lakhimpur': 63, 'Sonitpur': 64, 'Udalguri': 65, 'Cachar': 66, 'Dima Hasao': 67, 'Hailakandi': 68, 'Karimganj': 69, 'Madhepura': 70, 'Saharsa': 71, 'Supaul': 72, 'Purnia': 73, 'Araria': 74, 'Katihar': 75, 'Kishanganj': 76, 'Aurangabad': 77, 'Arwal': 78, 'Gaya': 79, 'Kaimur': 80, 'Rohtas': 81, 'Bhagalpur': 82, 'Banka': 83, 'Lakhisarai': 84, 'Munger': 85, 'Muzaffarpur': 86, 'Sheohar': 87, 'Sitamarhi': 88, 'Vaishali': 89, 'Nalanda': 90, 'Jehanabad': 91, 'Nawada': 92, 'Sheikhpura': 93, 'Darbhanga': 94, 'Madhubani': 95, 'Samastipur': 96, 'Patna': 97, 'Begusarai': 98, 'Bhojpur': 99, 'Buxar': 100, 'Khagaria': 101, 'Saran': 102, 'Siwan': 103, 'Gopalganj': 104, 'East Champaran': 105, 'West Champaran': 106, 'Jamui': 107, 'Chandigarh': 108, 'Raipur': 109, 'Balod': 110, 'Baloda bazar': 111, 'Balrampur': 112, 'Bastar': 113, 'Bemetara': 114, 'Bijapur': 115, 'Bilaspur': 219, 'Dantewada': 117, 'Dhamtari': 118, 'Durg': 119, 'Gariaband': 120, 'Janjgir-Champa': 121, 'Jashpur': 122, 'Kanker': 123, 'Kondagaon': 124, 'Korba': 125, 'Koriya': 126, 'Mahasamund': 127, 'Mungeli': 128, 'Narayanpur': 129, 'Raigarh': 130, 'Rajnandgaon': 131, 'Sukma': 132, 'Surajpur': 133, 'Surguja': 134, 'Kawardha': 135, 'Gaurela Pendra Marwahi ': 136, 'Dadra and Nagar Haveli': 137, 'New Delhi': 140, 'Central Delhi': 141, 'West Delhi': 142, 'North West Delhi': 143, 'South East Delhi': 144, 'East Delhi': 145, 'North Delhi': 146, 'North East Delhi': 147, 'Shahdara': 148, 'South Delhi': 149, 'South West Delhi': 150, 'North Goa': 151, 'South Goa': 152, 'Gandhinagar': 153, 'Ahmedabad': 154, 'Vadodara': 155, 'Kheda': 156, 'Surendranagar': 157, 'Aravalli': 158, 'Banaskantha': 159, 'Mehsana': 160, 'Patan': 161, 'Sabarkantha': 162, 'Dang': 163, 'Navsari': 164, 'Surat': 165, 'Tapi': 166, 'Valsad': 167, 'Devbhumi Dwaraka': 168, 'Jamnagar': 169, 'Kutch': 170, 'Morbi': 171, 'Porbandar': 172, 'Rajkot': 173, 'Amreli': 174, 'Bhavnagar': 175, 'Botad': 176, 'Gir Somnath': 177, 'Junagadh': 178, 'Anand': 179, 'Bharuch': 180, 'Chhotaudepur': 181, 'Dahod': 182, 'Mahisagar': 183, 'Narmada': 184, 'Panchmahal': 185, 'Kurukshetra': 186, 'Panchkula': 187, 'Gurgaon': 188, 'Jhajjar': 189, 'Kaithal': 190, 'Hisar': 191, 'Rohtak': 192, 'Ambala': 193, 'Sirsa': 194, 'Panipat': 195, 'Fatehabad': 196, 'Yamunanagar': 197, 'Sonipat': 198, 'Faridabad': 199, 'Bhiwani': 200, 'Charkhi Dadri': 201, 'Rewari': 202, 'Karnal': 203, 'Jind': 204, 'Nuh': 205, 'Mahendragarh': 206, 'Palwal': 207, 'Shimla': 208, 'Solan': 209, 'Lahaul Spiti': 210, 'Kullu': 211, 'Sirmaur': 212, 'Kangra': 213, 'Chamba': 214, 'Mandi': 215, 'Kinnaur': 216, 'Hamirpur': 655, 'Una': 218, 'Srinagar': 220, 'Kulgam': 221, 'Shopian': 222, 'Bandipore': 223, 'Anantnag': 224, 'Baramulla': 225, 'Kupwara': 226, 'Pulwama': 227, 'Ganderbal': 228, 'Budgam': 229, 'Jammu': 230, 'Kishtwar': 231, 'Doda': 232, 'Udhampur': 233, 'Kathua': 234, 'Ramban': 235, 'Samba': 236, 'Rajouri': 237, 'Poonch': 238, 'Reasi': 239, 'Ranchi': 240, 'Koderma': 241, 'Bokaro': 242, 'Garhwa': 243, 'Latehar': 244, 'Chatra': 245, 'Palamu': 246, 'East Singhbhum': 247, 'Seraikela Kharsawan': 248, 'Simdega': 249, 'Lohardaga': 250, 'Gumla': 251, 'Khunti': 252, 'Deoghar': 253, 'Ramgarh': 254, 'Hazaribagh': 255, 'Giridih': 256, 'Dhanbad': 257, 'Dumka': 258, 'Jamtara': 259, 'Sahebganj': 260, 'Pakur': 261, 'Godda': 262, 'West Singhbhum': 263, 'Belgaum': 264, 'Bangalore Urban': 265, 'Mysore': 266, 'Gulbarga': 267, 'Chitradurga': 268, 'Dakshina Kannada': 269, 'Bagalkot': 270, 'Chamarajanagar': 271, 'Bidar': 272, 'Chikamagalur': 273, 'Bellary': 274, 'Davanagere': 275, 'Bangalore Rural': 276, 'Kolar': 277, 'Dharwad': 278, 'Haveri': 279, 'Gadag': 280, 'Uttar Kannada': 281, 'Koppal': 282, 'Kodagu': 283, 'Raichur': 284, 'Yadgir': 285, 'Udupi': 286, 'Shimoga': 287, 'Tumkur': 288, 'Hassan': 289, 'Mandya': 290, 'Chikkaballapur': 291, 'Ramanagara': 292, 'Vijayapura': 293, 'BBMP': 294, 'Kasaragod': 295, 'Thiruvananthapuram': 296, 'Kannur': 297, 'Kollam': 298, 'Wayanad': 299, 'Pathanamthitta': 300, 'Alappuzha': 301, 'Malappuram': 302, 'Thrissur': 303, 'Kottayam': 304, 'Kozhikode': 305, 'Idukki': 306, 'Ernakulam': 307, 'Palakkad': 308, 'Kargil': 309, 'Leh': 310, 'Lakshadweep': 311, 'Bhopal': 312, 'Gwalior': 313, 'Indore': 314, 'Jabalpur': 315, 'Rewa': 316, 'Sagar': 317, 'Ujjain': 318, 'Mandsaur': 319, 'Agar': 320, 'Shajapur': 321, 'Ratlam': 322, 'Neemuch': 323, 'Dewas': 324, 'Tikamgarh': 325, 'Panna': 326, 'Damoh': 327, 'Chhatarpur': 328, 'Umaria': 329, 'Singrauli': 330, 'Sidhi': 331, 'Shahdol': 332, 'Satna': 333, 'Anuppur': 334, 'Mandla': 335, 'Dindori': 336, 'Chhindwara': 337, 'Balaghat': 338, 'Khandwa': 339, 'Jhabua': 340, 'Dhar': 341, 'Burhanpur': 342, 'Barwani': 343, 'Khargone': 344, 'Shivpuri': 345, 'Sheopur': 346, 'Morena': 347, 'Guna': 348, 'Seoni': 349, 'Datia': 350, 'Bhind': 351, 'Narsinghpur': 352, 'Katni': 353, 'Ashoknagar': 354, 'Vidisha': 355, 'Sehore': 356, 'Alirajpur': 357, 'Rajgarh': 358, 'Raisen': 359, 'Hoshangabad': 360, 'Harda': 361, 'Betul': 362, 'Pune': 363, 'Akola': 364, 'Nagpur': 365, 'Amravati': 366, 'Buldhana': 367, 'Yavatmal': 368, 'Washim': 369, 'Bhandara': 370, 'Kolhapur': 371, 'Ratnagiri': 372, 'Sangli': 373, 'Sindhudurg': 374, 'Solapur': 375, 'Satara': 376, 'Wardha': 377, 'Gondia': 378, 'Gadchiroli': 379, 'Chandrapur': 380, 'Osmanabad': 381, 'Nanded': 382, 'Latur': 383, 'Beed': 384, 'Parbhani': 385, 'Hingoli': 386, 'Nandurbar': 387, 'Dhule': 388, 'Nashik': 389, 'Jalgaon': 390, 'Ahmednagar': 391, 'Thane': 392, 'Raigad': 393, 'Palghar': 394, 'Mumbai': 395, 'Jalna': 396, 'Aurangabad ': 397, 'Bishnupur': 398, 'Chandel': 399, 'Churachandpur': 400, 'Imphal East': 401, 'Imphal West': 402, 'Senapati': 403, 'Tamenglong': 404, 'Thoubal': 405, 'Ukhrul': 406, 'Tengnoupal': 407, 'Kangpokpi': 408, 'Kamjong': 409, 'Jiribam': 410, 'Pherzawl': 411, 'Noney': 412, 'Kakching': 413, 'East Khasi Hills': 414, 'South West Khasi Hills': 415, 'West Jaintia Hills': 416, 'Ri-Bhoi': 417, 'East Jaintia Hills': 418, 'West Khasi Hills': 419, 'West Garo Hills': 420, 'South Garo Hills': 421, 'South West Garo Hills': 422, 'North Garo Hills': 423, 'East Garo Hills': 424, 'Aizawl East': 425, 'Aizawl West': 426, 'Mamit': 427, 'Kolasib': 428, 'Champhai': 429, 'Serchhip': 430, 'Lunglei': 431, 'Lawngtlai': 432, 'Siaha': 433, 'Dimapur': 434, 'Peren': 435, 'Wokha': 436, 'Mokokchung': 437, 'Longleng': 438, 'Mon': 439, 'Tuensang': 440, 'Kohima': 441, 'Zunheboto': 442, 'Phek': 443, 'Kiphire': 444, 'Angul': 445, 'Khurda': 446, 'Balasore': 447, 'Balangir': 448, 'Ganjam': 449, 'Kandhamal': 450, 'Koraput': 451, 'Sambalpur': 452, 'Sundargarh': 453, 'Bhadrak': 454, 'Kendujhar': 455, 'Mayurbhanj': 456, 'Cuttack': 457, 'Dhenkanal': 458, 'Jagatsinghpur': 459, 'Jajpur': 460, 'Kendrapara': 461, 'Nayagarh': 462, 'Puri': 463, 'Kalahandi': 464, 'Nuapada': 465, 'Subarnapur': 466, 'Gajapati': 467, 'Boudh': 468, 'Malkangiri': 469, 'Nabarangpur': 470, 'Rayagada': 471, 'Bargarh': 472, 'Deogarh': 473, 'Jharsuguda': 474, 'Puducherry': 475, 'Karaikal': 476, 'Mahe': 477, 'Yanam': 478, 'Kapurthala': 479, 'Ferozpur': 480, 'Hoshiarpur': 481, 'Mansa': 482, 'Barnala': 483, 'Fatehgarh Sahib': 484, 'Amritsar': 485, 'Pathankot': 486, 'Fazilka': 487, 'Ludhiana': 488, 'Gurdaspur': 489, 'Sri Muktsar Sahib': 490, 'Moga': 491, 'Jalandhar': 492, 'Bathinda': 493, 'Patiala': 494, 'Tarn Taran': 495, 'SAS Nagar': 496, 'Rup Nagar': 497, 'Sangrur': 498, 'Faridkot': 499, 'SBS Nagar': 500, 'Bikaner': 501, 'Jodhpur': 502, 'Kota': 503, 'Udaipur': 504, 'Jaipur I': 505, 'Jaipur II': 506, 'Ajmer': 507, 'Bharatpur': 508, 'Sri Ganganagar': 509, 'Jhunjhunu': 510, 'Dausa': 511, 'Alwar': 512, 'Sikar': 513, 'Bundi': 514, 'Jhalawar': 515, 'Baran': 516, 'Hanumangarh': 517, 'Rajsamand': 518, 'Banswara': 519, 'Dungarpur': 520, 'Chittorgarh': 521, 'Pratapgarh': 682, 'Bhilwara': 523, 'Dholpur': 524, 'Karauli': 525, 'Tonk': 526, 'Jaisalmer': 527, 'Barmer': 528, 'Pali': 529, 'Churu': 530, 'Sirohi': 531, 'Nagaur': 532, 'Jalore': 533, 'Sawai Madhopur': 534, 'East Sikkim': 535, 'West Sikkim': 536, 'North Sikkim': 537, 'South Sikkim': 538, 'Coimbatore': 539, 'Madurai': 540, 'Thanjavur': 541, 'Viluppuram': 542, 'Vellore': 543, 'Kanyakumari': 544, 'Salem': 545, 'Pudukkottai': 546, 'Cuddalore': 547, 'Tirunelveli': 548, 'Virudhunagar': 549, 'Tirupattur': 550, 'Tenkasi': 551, 'Kallakurichi': 552, 'Tiruvannamalai': 553, 'Thoothukudi (Tuticorin)': 554, 'Ariyalur': 555, 'Dindigul': 556, 'Kanchipuram': 557, 'Namakkal': 558, 'Karur': 559, 'Tiruchirappalli': 560, 'Sivaganga': 561, 'Krishnagiri': 562, 'Erode': 563, 'Palani': 564, 'Chengalpet': 565, 'Dharmapuri': 566, 'Ramanathapuram': 567, 'Tiruppur': 568, 'Theni': 569, 'Perambalur': 570, 'Chennai': 571, 'Tiruvallur': 572, 'Paramakudi': 573, 'Tiruvarur': 574, 'Poonamallee': 575, 'Nagapattinam': 576, 'Nilgiris': 577, 'Attur': 578, 'Sivakasi': 580, 'Hyderabad': 581, 'Adilabad': 582, 'Bhadradri Kothagudem': 583, 'Jagtial': 584, 'Jangaon': 585, 'Jayashankar Bhupalpally': 586, 'Jogulamba Gadwal': 587, 'Kamareddy': 588, 'Karimnagar': 589, 'Khammam': 590, 'Kumuram Bheem': 591, 'Mahabubabad': 592, 'Mahabubnagar': 593, 'Mancherial': 594, 'Medak': 595, 'Medchal': 596, 'Nagarkurnool': 597, 'Nalgonda': 598, 'Nirmal': 599, 'Nizamabad': 600, 'Peddapalli': 601, 'Rajanna Sircilla': 602, 'Rangareddy': 603, 'Sangareddy': 604, 'Siddipet': 605, 'Suryapet': 606, 'Vikarabad': 607, 'Wanaparthy': 608, 'Warangal(Rural)': 609, 'Warangal(Urban)': 610, 'Yadadri Bhuvanagiri': 611, 'Mulugu': 612, 'Narayanpet': 613, 'Dhalai': 614, 'Gomati': 615, 'Khowai': 616, 'North Tripura': 617, 'Sepahijala': 618, 'South Tripura': 619, 'Unakoti': 620, 'West Tripura': 621, 'Agra': 622, 'Aligarh': 623, 'Prayagraj': 624, 'Ambedkar Nagar': 625, 'Amethi': 626, 'Amroha': 627, 'Auraiya': 628, 'Azamgarh': 629, 'Badaun': 630, 'Baghpat': 631, 'Bahraich': 632, 'Balarampur': 633, 'Ballia': 634, 'Banda': 635, 'Barabanki': 636, 'Bareilly': 637, 'Basti': 638, 'Bijnour': 639, 'Bulandshahr': 640, 'Chandauli': 641, 'Chitrakoot': 642, 'Deoria': 643, 'Etah': 644, 'Etawah': 645, 'Ayodhya': 646, 'Farrukhabad': 647, 'Fatehpur': 648, 'Firozabad': 649, 'Gautam Buddha Nagar': 650, 'Ghaziabad': 651, 'Ghazipur': 652, 'Gonda': 653, 'Gorakhpur': 654, 'Hapur': 656, 'Hardoi': 657, 'Hathras': 658, 'Jalaun': 659, 'Jaunpur': 660, 'Jhansi': 661, 'Kannauj': 662, 'Kanpur Dehat': 663, 'Kanpur Nagar': 664, 'Kasganj': 665, 'Kaushambi': 666, 'Kushinagar': 667, 'Lakhimpur Kheri': 668, 'Lalitpur': 669, 'Lucknow': 670, 'Maharajganj': 671, 'Mahoba': 672, 'Mainpuri': 673, 'Mathura': 674, 'Mau': 675, 'Meerut': 676, 'Mirzapur': 677, 'Moradabad': 678, 'Muzaffarnagar': 679, 'Pilibhit': 680, 'Raebareli': 681, 'Rampur': 683, 'Saharanpur': 684, 'Sambhal': 685, 'Sant Kabir Nagar': 686, 'Bhadohi': 687, 'Shahjahanpur': 688, 'Shamli': 689, 'Shravasti': 690, 'Siddharthnagar': 691, 'Sitapur': 692, 'Sonbhadra': 693, 'Sultanpur': 694, 'Unnao': 695, 'Varanasi': 696, 'Dehradun': 697, 'Pauri Garhwal': 698, 'Chamoli': 699, 'Rudraprayag': 700, 'Tehri Garhwal': 701, 'Haridwar': 702, 'Uttarkashi': 703, 'Almora': 704, 'Udham Singh Nagar': 705, 'Pithoragarh': 706, 'Bageshwar': 707, 'Champawat': 708, 'Nainital': 709, 'Alipurduar District': 710, 'Bankura': 711, 'Basirhat HD (North 24 Parganas)': 712, 'Birbhum': 713, 'Bishnupur HD (Bankura)': 714, 'Cooch Behar': 715, 'Dakshin Dinajpur': 716, 'Darjeeling': 717, 'Diamond Harbor HD (S 24 Parganas)': 718, 'East Bardhaman': 719, 'Hoogly': 720, 'Howrah': 721, 'Jalpaiguri': 722, 'Jhargram': 723, 'Kalimpong': 724, 'Kolkata': 725, 'Malda': 726, 'Murshidabad': 727, 'Nadia': 728, 'Nandigram HD (East Medinipore)': 729, 'North 24 Parganas': 730, 'Paschim Medinipore': 731, 'Purba Medinipore': 732, 'Purulia': 733, 'Rampurhat HD (Birbhum)': 734, 'South 24 Parganas': 735, 'Uttar Dinajpur': 736, 'West Bardhaman': 737, 'Hojai': 764, 'Biswanath': 765, 'Charaideo': 766, 'Majuli': 767, 'South Salmara Mankachar': 768, 'West Karbi Anglong': 769, 'Ahmedabad Corporation': 770, 'Bhavnagar Corporation': 771, 'Gandhinagar Corporation': 772, 'Jamnagar Corporation': 773, 'Junagadh Corporation': 774, 'Rajkot Corporation': 775, 'Surat Corporation': 776, 'Vadodara Corporation': 777, 'Cheyyar': 778, 'Aranthangi': 779, 'Kovilpatti': 780, 'Ranipet': 781, 'COOCHBEHAR': 783, 'Agatti Island': 796}
dist_start = 0
dist_finish  = 346


def getStates():
    return requests.get('https://cdn-api.co-vin.in/api/v2/admin/location/states',headers=header ).json()


def getStateIDs():
    states = getStates()
    return [x['state_id'] for x in states['states']]


def getDistricts(stateID):
    return requests.get('https://cdn-api.co-vin.in/api/v2/admin/location/districts/' + str(stateID),headers=header).json()['districts']


def getDistrictIDs(start = dist_start,finish=dist_finish):          #start inclusive, finish excluded, 0 indexed, returns a list of district IDs sorted in the order of decreasing centers
    #
    # if __name__ == 'main':
    #     with open(os.path.join(sys.path[0],'districts.txt'), "r") as f:
    #         lines = f.read().splitlines()
    # else:
    #     with open(os.path.join(sys.path[0], 'vaxslot/scripts/districts.txt'), "r") as f:
    #         lines = f.read().splitlines()
    lines = [293, 365, 4, 264, 175, 266, 371, 285, 270, 268, 130, 485, 267, 122, 242, 382, 571, 282, 373, 289, 489, 488, 97, 274, 621, 109, 121, 288, 287, 528, 637, 225, 290, 119, 618, 118, 134, 7, 180, 292, 498, 294, 162, 563, 733, 156, 363, 131, 770, 682, 492, 14, 169, 16, 143, 103, 116, 414, 79, 725, 161, 6, 272, 112, 541, 10, 487, 183, 76, 114, 159, 691, 677, 47, 375, 622, 8, 383, 372, 246, 624, 446, 368, 632, 141, 491, 160, 735, 730, 142, 660, 230, 12, 643, 297, 86, 481, 13, 420, 303, 653, 560, 377, 392, 390, 164, 208, 692, 305, 234, 213, 127, 280, 154, 125, 542, 167, 776, 133, 669, 179, 45, 713, 209, 574, 482, 697, 173, 158, 496, 479, 9, 94, 736, 370, 337, 504, 545, 214, 249, 105, 562, 726, 90, 150, 558, 362, 170, 235, 649, 517, 96, 641, 239, 670, 447, 301, 321, 15, 284, 277, 278, 313, 577, 304, 338, 140, 291, 565, 397, 547, 681, 483, 674, 480, 704, 312, 222, 171, 384, 702, 679, 146, 705, 568, 659, 340, 540, 157, 178, 775, 619, 75, 505, 226, 520, 652, 314, 635, 629, 302, 259, 367, 5, 221, 696, 638, 149, 566, 651, 529, 777, 510, 77, 387, 92, 695, 633, 49, 495, 506, 88, 524, 572, 177, 548, 661, 227, 110, 185, 224, 657, 219, 248, 165, 623, 685, 126, 391, 499, 630, 378, 648, 662, 393, 731, 81, 561, 147, 238, 553, 60, 727, 534, 336, 712, 494, 184, 182, 729, 265, 518, 369, 263, 70, 223, 276, 634, 300, 680, 82, 351, 543, 640, 379, 271, 83, 388, 721, 617, 718, 124, 11, 260, 281, 603, 120, 626, 716, 354, 113, 781, 389, 262, 123, 552, 71, 243, 676, 556, 395, 102, 667, 296, 168, 636, 578, 442, 394, 172, 719, 148, 115, 188, 546, 89, 240, 194, 734, 647, 374, 306, 333, 502, 55, 199, 551, 327, 396, 106, 778, 539, 137, 153, 108, 316, 650, 570, 237, 85, 144, 128, 99, 569, 166, 493]

    # with open('/app/vaxslot/scripts/districts.txt', "r") as f:
    #     lines = f.read().splitlines()
    # lines = [int(x) for x in lines]
    lines = lines[start:finish]
    return lines

def deleteUser(emailID):
    # remove user from functional database
    # send bullshit liberal email
    user_district =  {}
    users = User.query.all()
    for x in users:
        if x.email == emailID:
            db.session.delete(x)
            db.session.commit()



#this returns a dict indexed by state_names and for each state name, there's a list of 2 tuples.
# {'Andaman and Nicobar Islands': [['Nicobar', 3], ['North and Middle Andaman', 1], ['South Andaman', 2]], 'Andhra Pradesh': [['Anantapur', 9],...]...}
def stateToDistrict(start=dist_start,finish=dist_finish):

    # states = getStates()['states']
    # dic = {}
    # for x in states:
    #     districts_as_dicts = getDistricts(x['state_id'])
    #     districts_as_lists =  []
    #     for y in districts_as_dicts:
    #         districts_as_lists.append([y['district_name'],y['district_id']])
    #     dic[x['state_name']]=districts_as_lists
    # print(dic)
    # with open('district_data.json', 'w') as f:
    #     json.dump(dic, f)
    # return dic
    districts = getDistrictIDs(start,finish)
    districts_dict = {x:True for x in districts}

    dic  = {"Andaman and Nicobar Islands": [["Nicobar", 3], ["North and Middle Andaman", 1], ["South Andaman", 2]], "Andhra Pradesh": [["Anantapur", 9], ["Chittoor", 10], ["East Godavari", 11], ["Guntur", 5], ["Krishna", 4], ["Kurnool", 7], ["Prakasam", 12], ["Sri Potti Sriramulu Nellore", 13], ["Srikakulam", 14], ["Visakhapatnam", 8], ["Vizianagaram", 15], ["West Godavari", 16], ["YSR District Kadapa (Cuddapah)", 6]], "Arunachal Pradesh": [["Anjaw", 22], ["Changlang", 20], ["Dibang Valley", 25], ["East Kameng", 23], ["East Siang", 42], ["Itanagar Capital Complex", 17], ["Kamle", 24], ["Kra Daadi", 27], ["Kurung Kumey", 21], ["Lepa Rada", 33], ["Lohit", 29], ["Longding", 40], ["Lower Dibang Valley", 31], ["Lower Siang", 18], ["Lower Subansiri", 32], ["Namsai", 36], ["Pakke Kessang", 19], ["Papum Pare", 39], ["Shi Yomi", 35], ["Siang", 37], ["Tawang", 30], ["Tirap", 26], ["Upper Siang", 34], ["Upper Subansiri", 41], ["West Kameng", 28], ["West Siang", 38]], "Assam": [["Baksa", 46], ["Barpeta", 47], ["Biswanath", 765], ["Bongaigaon", 57], ["Cachar", 66], ["Charaideo", 766], ["Chirang", 58], ["Darrang", 48], ["Dhemaji", 62], ["Dhubri", 59], ["Dibrugarh", 43], ["Dima Hasao", 67], ["Goalpara", 60], ["Golaghat", 53], ["Hailakandi", 68], ["Hojai", 764], ["Jorhat", 54], ["Kamrup Metropolitan", 49], ["Kamrup Rural", 50], ["Karbi-Anglong", 51], ["Karimganj", 69], ["Kokrajhar", 61], ["Lakhimpur", 63], ["Majuli", 767], ["Morigaon", 55], ["Nagaon", 56], ["Nalbari", 52], ["Sivasagar", 44], ["Sonitpur", 64], ["South Salmara Mankachar", 768], ["Tinsukia", 45], ["Udalguri", 65], ["West Karbi Anglong", 769]], "Bihar": [["Araria", 74], ["Arwal", 78], ["Aurangabad", 77], ["Banka", 83], ["Begusarai", 98], ["Bhagalpur", 82], ["Bhojpur", 99], ["Buxar", 100], ["Darbhanga", 94], ["East Champaran", 105], ["Gaya", 79], ["Gopalganj", 104], ["Jamui", 107], ["Jehanabad", 91], ["Kaimur", 80], ["Katihar", 75], ["Khagaria", 101], ["Kishanganj", 76], ["Lakhisarai", 84], ["Madhepura", 70], ["Madhubani", 95], ["Munger", 85], ["Muzaffarpur", 86], ["Nalanda", 90], ["Nawada", 92], ["Patna", 97], ["Purnia", 73], ["Rohtas", 81], ["Saharsa", 71], ["Samastipur", 96], ["Saran", 102], ["Sheikhpura", 93], ["Sheohar", 87], ["Sitamarhi", 88], ["Siwan", 103], ["Supaul", 72], ["Vaishali", 89], ["West Champaran", 106]], "Chandigarh": [["Chandigarh", 108]], "Chhattisgarh": [["Balod", 110], ["Baloda bazar", 111], ["Balrampur", 112], ["Bastar", 113], ["Bemetara", 114], ["Bijapur", 115], ["Bilaspur", 116], ["Dantewada", 117], ["Dhamtari", 118], ["Durg", 119], ["Gariaband", 120], ["Gaurela Pendra Marwahi ", 136], ["Janjgir-Champa", 121], ["Jashpur", 122], ["Kanker", 123], ["Kawardha", 135], ["Kondagaon", 124], ["Korba", 125], ["Koriya", 126], ["Mahasamund", 127], ["Mungeli", 128], ["Narayanpur", 129], ["Raigarh", 130], ["Raipur", 109], ["Rajnandgaon", 131], ["Sukma", 132], ["Surajpur", 133], ["Surguja", 134]], "Dadra and Nagar Haveli": [["Dadra and Nagar Haveli", 137]], "Daman and Diu": [["Daman", 138], ["Diu", 139]], "Delhi": [["Central Delhi", 141], ["East Delhi", 145], ["New Delhi", 140], ["North Delhi", 146], ["North East Delhi", 147], ["North West Delhi", 143], ["Shahdara", 148], ["South Delhi", 149], ["South East Delhi", 144], ["South West Delhi", 150], ["West Delhi", 142]], "Goa": [["North Goa", 151], ["South Goa", 152]], "Gujarat": [["Ahmedabad", 154], ["Ahmedabad Corporation", 770], ["Amreli", 174], ["Anand", 179], ["Aravalli", 158], ["Banaskantha", 159], ["Bharuch", 180], ["Bhavnagar", 175], ["Bhavnagar Corporation", 771], ["Botad", 176], ["Chhotaudepur", 181], ["Dahod", 182], ["Dang", 163], ["Devbhumi Dwaraka", 168], ["Gandhinagar", 153], ["Gandhinagar Corporation", 772], ["Gir Somnath", 177], ["Jamnagar", 169], ["Jamnagar Corporation", 773], ["Junagadh", 178], ["Junagadh Corporation", 774], ["Kheda", 156], ["Kutch", 170], ["Mahisagar", 183], ["Mehsana", 160], ["Morbi", 171], ["Narmada", 184], ["Navsari", 164], ["Panchmahal", 185], ["Patan", 161], ["Porbandar", 172], ["Rajkot", 173], ["Rajkot Corporation", 775], ["Sabarkantha", 162], ["Surat", 165], ["Surat Corporation", 776], ["Surendranagar", 157], ["Tapi", 166], ["Vadodara", 155], ["Vadodara Corporation", 777], ["Valsad", 167]], "Haryana": [["Ambala", 193], ["Bhiwani", 200], ["Charkhi Dadri", 201], ["Faridabad", 199], ["Fatehabad", 196], ["Gurgaon", 188], ["Hisar", 191], ["Jhajjar", 189], ["Jind", 204], ["Kaithal", 190], ["Karnal", 203], ["Kurukshetra", 186], ["Mahendragarh", 206], ["Nuh", 205], ["Palwal", 207], ["Panchkula", 187], ["Panipat", 195], ["Rewari", 202], ["Rohtak", 192], ["Sirsa", 194], ["Sonipat", 198], ["Yamunanagar", 197]], "Himachal Pradesh": [["Bilaspur", 219], ["Chamba", 214], ["Hamirpur", 217], ["Kangra", 213], ["Kinnaur", 216], ["Kullu", 211], ["Lahaul Spiti", 210], ["Mandi", 215], ["Shimla", 208], ["Sirmaur", 212], ["Solan", 209], ["Una", 218]], "Jammu and Kashmir": [["Anantnag", 224], ["Bandipore", 223], ["Baramulla", 225], ["Budgam", 229], ["Doda", 232], ["Ganderbal", 228], ["Jammu", 230], ["Kathua", 234], ["Kishtwar", 231], ["Kulgam", 221], ["Kupwara", 226], ["Poonch", 238], ["Pulwama", 227], ["Rajouri", 237], ["Ramban", 235], ["Reasi", 239], ["Samba", 236], ["Shopian", 222], ["Srinagar", 220], ["Udhampur", 233]], "Jharkhand": [["Bokaro", 242], ["Chatra", 245], ["Deoghar", 253], ["Dhanbad", 257], ["Dumka", 258], ["East Singhbhum", 247], ["Garhwa", 243], ["Giridih", 256], ["Godda", 262], ["Gumla", 251], ["Hazaribagh", 255], ["Jamtara", 259], ["Khunti", 252], ["Koderma", 241], ["Latehar", 244], ["Lohardaga", 250], ["Pakur", 261], ["Palamu", 246], ["Ramgarh", 254], ["Ranchi", 240], ["Sahebganj", 260], ["Seraikela Kharsawan", 248], ["Simdega", 249], ["West Singhbhum", 263]], "Karnataka": [["Bagalkot", 270], ["Bangalore Rural", 276], ["Bangalore Urban", 265], ["BBMP", 294], ["Belgaum", 264], ["Bellary", 274], ["Bidar", 272], ["Chamarajanagar", 271], ["Chikamagalur", 273], ["Chikkaballapur", 291], ["Chitradurga", 268], ["Dakshina Kannada", 269], ["Davanagere", 275], ["Dharwad", 278], ["Gadag", 280], ["Gulbarga", 267], ["Hassan", 289], ["Haveri", 279], ["Kodagu", 283], ["Kolar", 277], ["Koppal", 282], ["Mandya", 290], ["Mysore", 266], ["Raichur", 284], ["Ramanagara", 292], ["Shimoga", 287], ["Tumkur", 288], ["Udupi", 286], ["Uttar Kannada", 281], ["Vijayapura", 293], ["Yadgir", 285]], "Kerala": [["Alappuzha", 301], ["Ernakulam", 307], ["Idukki", 306], ["Kannur", 297], ["Kasaragod", 295], ["Kollam", 298], ["Kottayam", 304], ["Kozhikode", 305], ["Malappuram", 302], ["Palakkad", 308], ["Pathanamthitta", 300], ["Thiruvananthapuram", 296], ["Thrissur", 303], ["Wayanad", 299]], "Ladakh": [["Kargil", 309], ["Leh", 310]], "Lakshadweep": [["Agatti Island", 796], ["Lakshadweep", 311]], "Madhya Pradesh": [["Agar", 320], ["Alirajpur", 357], ["Anuppur", 334], ["Ashoknagar", 354], ["Balaghat", 338], ["Barwani", 343], ["Betul", 362], ["Bhind", 351], ["Bhopal", 312], ["Burhanpur", 342], ["Chhatarpur", 328], ["Chhindwara", 337], ["Damoh", 327], ["Datia", 350], ["Dewas", 324], ["Dhar", 341], ["Dindori", 336], ["Guna", 348], ["Gwalior", 313], ["Harda", 361], ["Hoshangabad", 360], ["Indore", 314], ["Jabalpur", 315], ["Jhabua", 340], ["Katni", 353], ["Khandwa", 339], ["Khargone", 344], ["Mandla", 335], ["Mandsaur", 319], ["Morena", 347], ["Narsinghpur", 352], ["Neemuch", 323], ["Panna", 326], ["Raisen", 359], ["Rajgarh", 358], ["Ratlam", 322], ["Rewa", 316], ["Sagar", 317], ["Satna", 333], ["Sehore", 356], ["Seoni", 349], ["Shahdol", 332], ["Shajapur", 321], ["Sheopur", 346], ["Shivpuri", 345], ["Sidhi", 331], ["Singrauli", 330], ["Tikamgarh", 325], ["Ujjain", 318], ["Umaria", 329], ["Vidisha", 355]], "Maharashtra": [["Ahmednagar", 391], ["Akola", 364], ["Amravati", 366], ["Aurangabad ", 397], ["Beed", 384], ["Bhandara", 370], ["Buldhana", 367], ["Chandrapur", 380], ["Dhule", 388], ["Gadchiroli", 379], ["Gondia", 378], ["Hingoli", 386], ["Jalgaon", 390], ["Jalna", 396], ["Kolhapur", 371], ["Latur", 383], ["Mumbai", 395], ["Nagpur", 365], ["Nanded", 382], ["Nandurbar", 387], ["Nashik", 389], ["Osmanabad", 381], ["Palghar", 394], ["Parbhani", 385], ["Pune", 363], ["Raigad", 393], ["Ratnagiri", 372], ["Sangli", 373], ["Satara", 376], ["Sindhudurg", 374], ["Solapur", 375], ["Thane", 392], ["Wardha", 377], ["Washim", 369], ["Yavatmal", 368]], "Manipur": [["Bishnupur", 398], ["Chandel", 399], ["Churachandpur", 400], ["Imphal East", 401], ["Imphal West", 402], ["Jiribam", 410], ["Kakching", 413], ["Kamjong", 409], ["Kangpokpi", 408], ["Noney", 412], ["Pherzawl", 411], ["Senapati", 403], ["Tamenglong", 404], ["Tengnoupal", 407], ["Thoubal", 405], ["Ukhrul", 406]], "Meghalaya": [["East Garo Hills", 424], ["East Jaintia Hills", 418], ["East Khasi Hills", 414], ["North Garo Hills", 423], ["Ri-Bhoi", 417], ["South Garo Hills", 421], ["South West Garo Hills", 422], ["South West Khasi Hills", 415], ["West Garo Hills", 420], ["West Jaintia Hills", 416], ["West Khasi Hills", 419]], "Mizoram": [["Aizawl East", 425], ["Aizawl West", 426], ["Champhai", 429], ["Kolasib", 428], ["Lawngtlai", 432], ["Lunglei", 431], ["Mamit", 427], ["Serchhip", 430], ["Siaha", 433]], "Nagaland": [["Dimapur", 434], ["Kiphire", 444], ["Kohima", 441], ["Longleng", 438], ["Mokokchung", 437], ["Mon", 439], ["Peren", 435], ["Phek", 443], ["Tuensang", 440], ["Wokha", 436], ["Zunheboto", 442]], "Odisha": [["Angul", 445], ["Balangir", 448], ["Balasore", 447], ["Bargarh", 472], ["Bhadrak", 454], ["Boudh", 468], ["Cuttack", 457], ["Deogarh", 473], ["Dhenkanal", 458], ["Gajapati", 467], ["Ganjam", 449], ["Jagatsinghpur", 459], ["Jajpur", 460], ["Jharsuguda", 474], ["Kalahandi", 464], ["Kandhamal", 450], ["Kendrapara", 461], ["Kendujhar", 455], ["Khurda", 446], ["Koraput", 451], ["Malkangiri", 469], ["Mayurbhanj", 456], ["Nabarangpur", 470], ["Nayagarh", 462], ["Nuapada", 465], ["Puri", 463], ["Rayagada", 471], ["Sambalpur", 452], ["Subarnapur", 466], ["Sundargarh", 453]], "Puducherry": [["Karaikal", 476], ["Mahe", 477], ["Puducherry", 475], ["Yanam", 478]], "Punjab": [["Amritsar", 485], ["Barnala", 483], ["Bathinda", 493], ["Faridkot", 499], ["Fatehgarh Sahib", 484], ["Fazilka", 487], ["Ferozpur", 480], ["Gurdaspur", 489], ["Hoshiarpur", 481], ["Jalandhar", 492], ["Kapurthala", 479], ["Ludhiana", 488], ["Mansa", 482], ["Moga", 491], ["Pathankot", 486], ["Patiala", 494], ["Rup Nagar", 497], ["Sangrur", 498], ["SAS Nagar", 496], ["SBS Nagar", 500], ["Sri Muktsar Sahib", 490], ["Tarn Taran", 495]], "Rajasthan": [["Ajmer", 507], ["Alwar", 512], ["Banswara", 519], ["Baran", 516], ["Barmer", 528], ["Bharatpur", 508], ["Bhilwara", 523], ["Bikaner", 501], ["Bundi", 514], ["Chittorgarh", 521], ["Churu", 530], ["Dausa", 511], ["Dholpur", 524], ["Dungarpur", 520], ["Hanumangarh", 517], ["Jaipur I", 505], ["Jaipur II", 506], ["Jaisalmer", 527], ["Jalore", 533], ["Jhalawar", 515], ["Jhunjhunu", 510], ["Jodhpur", 502], ["Karauli", 525], ["Kota", 503], ["Nagaur", 532], ["Pali", 529], ["Pratapgarh", 522], ["Rajsamand", 518], ["Sawai Madhopur", 534], ["Sikar", 513], ["Sirohi", 531], ["Sri Ganganagar", 509], ["Tonk", 526], ["Udaipur", 504]], "Sikkim": [["East Sikkim", 535], ["North Sikkim", 537], ["South Sikkim", 538], ["West Sikkim", 536]], "Tamil Nadu": [["Aranthangi", 779], ["Ariyalur", 555], ["Attur", 578], ["Chengalpet", 565], ["Chennai", 571], ["Cheyyar", 778], ["Coimbatore", 539], ["Cuddalore", 547], ["Dharmapuri", 566], ["Dindigul", 556], ["Erode", 563], ["Kallakurichi", 552], ["Kanchipuram", 557], ["Kanyakumari", 544], ["Karur", 559], ["Kovilpatti", 780], ["Krishnagiri", 562], ["Madurai", 540], ["Nagapattinam", 576], ["Namakkal", 558], ["Nilgiris", 577], ["Palani", 564], ["Paramakudi", 573], ["Perambalur", 570], ["Poonamallee", 575], ["Pudukkottai", 546], ["Ramanathapuram", 567], ["Ranipet", 781], ["Salem", 545], ["Sivaganga", 561], ["Sivakasi", 580], ["Tenkasi", 551], ["Thanjavur", 541], ["Theni", 569], ["Thoothukudi (Tuticorin)", 554], ["Tiruchirappalli", 560], ["Tirunelveli", 548], ["Tirupattur", 550], ["Tiruppur", 568], ["Tiruvallur", 572], ["Tiruvannamalai", 553], ["Tiruvarur", 574], ["Vellore", 543], ["Viluppuram", 542], ["Virudhunagar", 549]], "Telangana": [["Adilabad", 582], ["Bhadradri Kothagudem", 583], ["Hyderabad", 581], ["Jagtial", 584], ["Jangaon", 585], ["Jayashankar Bhupalpally", 586], ["Jogulamba Gadwal", 587], ["Kamareddy", 588], ["Karimnagar", 589], ["Khammam", 590], ["Kumuram Bheem", 591], ["Mahabubabad", 592], ["Mahabubnagar", 593], ["Mancherial", 594], ["Medak", 595], ["Medchal", 596], ["Mulugu", 612], ["Nagarkurnool", 597], ["Nalgonda", 598], ["Narayanpet", 613], ["Nirmal", 599], ["Nizamabad", 600], ["Peddapalli", 601], ["Rajanna Sircilla", 602], ["Rangareddy", 603], ["Sangareddy", 604], ["Siddipet", 605], ["Suryapet", 606], ["Vikarabad", 607], ["Wanaparthy", 608], ["Warangal(Rural)", 609], ["Warangal(Urban)", 610], ["Yadadri Bhuvanagiri", 611]], "Tripura": [["Dhalai", 614], ["Gomati", 615], ["Khowai", 616], ["North Tripura", 617], ["Sepahijala", 618], ["South Tripura", 619], ["Unakoti", 620], ["West Tripura", 621]], "Uttar Pradesh": [["Agra", 622], ["Aligarh", 623], ["Ambedkar Nagar", 625], ["Amethi", 626], ["Amroha", 627], ["Auraiya", 628], ["Ayodhya", 646], ["Azamgarh", 629], ["Badaun", 630], ["Baghpat", 631], ["Bahraich", 632], ["Balarampur", 633], ["Ballia", 634], ["Banda", 635], ["Barabanki", 636], ["Bareilly", 637], ["Basti", 638], ["Bhadohi", 687], ["Bijnour", 639], ["Bulandshahr", 640], ["Chandauli", 641], ["Chitrakoot", 642], ["Deoria", 643], ["Etah", 644], ["Etawah", 645], ["Farrukhabad", 647], ["Fatehpur", 648], ["Firozabad", 649], ["Gautam Buddha Nagar", 650], ["Ghaziabad", 651], ["Ghazipur", 652], ["Gonda", 653], ["Gorakhpur", 654], ["Hamirpur", 655], ["Hapur", 656], ["Hardoi", 657], ["Hathras", 658], ["Jalaun", 659], ["Jaunpur", 660], ["Jhansi", 661], ["Kannauj", 662], ["Kanpur Dehat", 663], ["Kanpur Nagar", 664], ["Kasganj", 665], ["Kaushambi", 666], ["Kushinagar", 667], ["Lakhimpur Kheri", 668], ["Lalitpur", 669], ["Lucknow", 670], ["Maharajganj", 671], ["Mahoba", 672], ["Mainpuri", 673], ["Mathura", 674], ["Mau", 675], ["Meerut", 676], ["Mirzapur", 677], ["Moradabad", 678], ["Muzaffarnagar", 679], ["Pilibhit", 680], ["Pratapgarh", 682], ["Prayagraj", 624], ["Raebareli", 681], ["Rampur", 683], ["Saharanpur", 684], ["Sambhal", 685], ["Sant Kabir Nagar", 686], ["Shahjahanpur", 688], ["Shamli", 689], ["Shravasti", 690], ["Siddharthnagar", 691], ["Sitapur", 692], ["Sonbhadra", 693], ["Sultanpur", 694], ["Unnao", 695], ["Varanasi", 696]], "Uttarakhand": [["Almora", 704], ["Bageshwar", 707], ["Chamoli", 699], ["Champawat", 708], ["Dehradun", 697], ["Haridwar", 702], ["Nainital", 709], ["Pauri Garhwal", 698], ["Pithoragarh", 706], ["Rudraprayag", 700], ["Tehri Garhwal", 701], ["Udham Singh Nagar", 705], ["Uttarkashi", 703]], "West Bengal": [["Alipurduar District", 710], ["Bankura", 711], ["Basirhat HD (North 24 Parganas)", 712], ["Birbhum", 713], ["Bishnupur HD (Bankura)", 714], ["Cooch Behar", 715], ["COOCHBEHAR", 783], ["Dakshin Dinajpur", 716], ["Darjeeling", 717], ["Diamond Harbor HD (S 24 Parganas)", 718], ["East Bardhaman", 719], ["Hoogly", 720], ["Howrah", 721], ["Jalpaiguri", 722], ["Jhargram", 723], ["Kalimpong", 724], ["Kolkata", 725], ["Malda", 726], ["Murshidabad", 727], ["Nadia", 728], ["Nandigram HD (East Medinipore)", 729], ["North 24 Parganas", 730], ["Paschim Medinipore", 731], ["Purba Medinipore", 732], ["Purulia", 733], ["Rampurhat HD (Birbhum)", 734], ["South 24 Parganas", 735], ["Uttar Dinajpur", 736], ["West Bardhaman", 737]]}
    # print(districts_dict)
    newdic = {i: [a for a in j if a[1] in districts_dict] for i,j in dic.items()}
    # print(newdic)
    return newdic

# print(1)
# print(sum(len(x) for y,x in stateToDistrict().items()))
# initialize()
# print(districtname_to_id)
# print(getDistrictIDs())